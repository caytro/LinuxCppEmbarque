<h1 id="linuxcppembarque-aiqwa">LinuxCppEmbarque AIQWA</h1>
<p>Exploitation d’une API en CPP sur Linux embarqué</p>
<h2 id="projet-basé-sur-buildroot-qemu">Projet basé sur buildroot qemu</h2>
<h2 id="sources">Sources</h2>
<ul>
<li>Sources C++ dans /devel/AIrQualityWAtch</li>
<li>Shell scripts dans /devel/scripts</li>
<li>overlay/home/sylvain doit contenir un fichier AIQWA.config qui contient les parametres d’accès à l’API et les chemins de stockage des datas et charts</li>
<li>/devel/AIrQualityWAtch contient un script crossCompil qui copie l’executable généré dans overlay/root/bin/airQualityWatch-qemu</li>
</ul>
<h2 id="datas-charts">Datas &amp; Charts</h2>
<ul>
<li>Un fichier json AirQualityWatch.json dans /home/sylvain/datas est incrémenté à chaque download et contient toutes les données.</li>
<li>/devel/scripts contient un shell script qui reconstitue le fichier AirQualityWatch.json en cas de besoin à partir des données brutes.</li>
<li>airQualityWatch-qemu est appelé par cron toutes les 5 * * * *. Il télécharge et enregistre les données, génère et enregistre les charts.</li>
<li>Les datas récupérées sur l’API sont stockées dans overlay/home/sylvain/datas</li>
<li>Les graphiques générés sont enregistrés dans overlay/home/sylvain/charts</li>
</ul>
<h2 id="server-httpd">Server httpd</h2>
<ul>
<li>Un dossier /root/html (cf dans overlay) contient les fichier index.html et styles.css, ainsi qu’un lien symbolique vers /home/sylvain</li>
<li>un server busybox httpd écoute le port 80</li>
<li>le port 8080 de la machine hôte est redirigé vers le port 80 de la machine qemu.</li>
<li>le port 58080 de la passerelle est redirigé vers le port 8080 de la machine hôte</li>
<li>Les graphiques sont accessibles par http://88.179.9.133:58080/</li>
</ul>
<h2 id="ebauche-de-rapport-dans-procedure.pdf">Ebauche de rapport dans Procedure.pdf</h2>
<h2 id="exemples-de-datas-json-dans-datas">exemples de datas json dans /datas</h2>
<h2 id="exemples-de-graphiques-dans-charts">exemples de graphiques dans /charts</h2>
<p><img src="charts/curve.png" alt="exemple de graphique généré" /> <img src="charts/pie.png" alt="exemple de graphique généré" /></p>
